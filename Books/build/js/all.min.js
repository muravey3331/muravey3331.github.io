"use strict";$(function(){function e(){$(".show-content-container > div").slideUp()}function o(e){if(0===e.books.length)$(".tabs-container").append($("<p class='books-amount'>Not found any books. Try again.</p>"));else{var o=e,n=document.getElementById("books-template").innerHTML,t=Handlebars.compile(n),i=t(o);a.append(i)}}function n(){var e,n=t.books;window.innerWidth<768?(e=$(".search-field--mobile").val().toLowerCase(),$(".search-field--mobile").val("")):(e=$(".search-field--desktop").val().toLowerCase(),$(".search-field--desktop").val("")),$(".tabs-container > a").remove(),$(".books-amount").remove(),n=n.filter(function(o){if(-1!==o.title.toLowerCase().indexOf(e))return!0}),o({books:n})}$(".menu-show-btn").on("click",function(){var o=$(".menu-container");e(),o.slideToggle()}),$(".search-show-btn").on("click",function(){e(),$(".search-container--mobile").slideToggle()}),$(".shop-cart-show-btn").on("click",function(){e(),$(".shop-cart-container--mobile").slideToggle()});var t,a=$(".tabs-container");$.ajax({url:"build/js/books.json",dataType:"json"}).done(function(e){t=e,o(t)}),$(".tabs > ul > li").on("click",function(){function e(e,o){return e[a]-o[a]}var n=t.books;$(this).siblings().removeClass("tabs__active"),$(this).addClass("tabs__active"),$(".tabs-container > a").remove(),$(".books-amount").remove();var a=$(this).attr("filter-attr");"specialOffer"===a||"used"===a?n=n.filter(function(e){return e[a]}):(n=n.sort(e),"year"===a&&(n=n.reverse())),o({books:n})}),$(".search-btn").on("click",n),$(".search-field").keydown(function(e){13==e.keyCode&&n()})});